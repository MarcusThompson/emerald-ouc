////
/// @group uthsc-off-canvas
////

/// Width of an off-canvas menu.
/// @type Number
$uthsc-offcanvas-size: 300px !default;

/// Background color of an off-canvas menu.
/// @type Color
$uthsc-offcanvas-background: $light-gray !default;

/// Length of the animation on an off-canvas menu.
/// @type Number
$uthsc-offcanvas-transition-length: 0.3s !default;

/// Timing function of the animation on an off-canvas menu.
/// @type Keyword
$uthsc-offcanvas-transition-timing: ease !default;

/// Background color for the overlay that appears when an off-canvas menu is open.
/// @type Color
$uthsc-offcanvas-exit-background: rgba($black, 0.5) !default;

/// Adds baseline styles for off-canvas. This CSS is required to make the other pieces work.
@mixin uthsc-off-canvas-basics {

  // Inspired by http://callmenick.com/2014/03/26/slide-and-push-menus-with-css3-transitions/
  .uthsc-off-canvas-wrapper {
    position: relative;
    z-index: 10;
    top: 0;
    left: 0;
    -webkit-transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
    -moz-transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
    -ms-transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
    -o-transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
    transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
  }
}

/// Adds basic styles for an off-canvas menu.
@mixin uthsc-off-canvas-base {
  @include disable-mouse-outline;
}

@mixin uthsc-off-canvas-position-open(
  $position: left,
  $size: $offcanvas-size
) {

  // Prevent page from scrolling when
  // off canvas is activated
  .uthsc-off-canvas-wrapper {
    position: fixed;
    width: 100%;
  }

  @if $position == left {
    .uthsc-off-canvas-wrapper { left: $size; }
    .offcanvas-nav.push-menu-left {
      left: 0;
      position: absolute;
    }
  }

  @else if $position == right {
    .uthsc-off-canvas-wrapper { left: -$size; }
    .offcanvas-nav.push-menu-right {
      right: 0;
      position: absolute;
    }
  }
}

@mixin uthsc-off-canvas {

  @include uthsc-off-canvas-basics;

  // Off-canvas container
  .uthsc-off-canvas {
    @include uthsc-off-canvas-base;
  }

  .mask {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 15;
    width: 100%;
    height: 100%;
    background: $uthsc-offcanvas-exit-background;
  }

  .pmr-open { @include uthsc-off-canvas-position-open(right) }
  .pml-open { @include uthsc-off-canvas-position-open(left) }

  .offcanvas-nav {

    &.menu {
      position: fixed;
      z-index: 20;
      background-color: $uthsc-offcanvas-background;
      overflow: auto;
      overflow-x: hidden;
      -webkit-transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
      -moz-transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
      -ms-transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
      -o-transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
      transition: $uthsc-offcanvas-transition-timing $uthsc-offcanvas-transition-length;
      min-height: 100%;
    }

    &.push-menu-left,
    &.push-menu-right {
      width: $uthsc-offcanvas-size;
      max-width: 86%;
    }

    &.push-menu-left {
      left: -$uthsc-offcanvas-size;
    }
    &.push-menu-right {
      right: -$uthsc-offcanvas-size;
    }
  }



  #mobile-navigation {
    position: fixed;
    bottom: 0;
    z-index: 1;
    left:0;
    right: 0;
    -webkit-transition: all 0.3s;
    -moz-transition: all 0.3s;
    -ms-transition: all 0.3s;
    -o-transition: all 0.3s;
    transition: all 0.3s;

    button {
      margin-bottom: 0;
      width:50%;
      height: 44px;
    }
  }

  .pml-open #mobile-navigation{
    left: 300px;
    right: -300px;
  }

  .pmr-open #mobile-navigation{
    right: 300px;
    left: -300px;
  }

  .bottom-nav-bar {
    width: 100%;
    height: 44px;
    clear: left;
    background-image: url(../images/uthsc-logo-short-grey.svg);
    text-align: center;
    line-height: 44px;
    background-size: 89%;
    background-repeat: no-repeat;
    background-position: center;
    background-color: $uthsc-green;
    opacity: 0.4;
  }
  .nav-toggler {
    background: $uthsc-green;
    height: 44px;
  }
  .toggle-push-left {
    background-image: url("../images/2t.png");
    background-repeat: no-repeat;
    background-size: contain;
    background-position: left center;
    border-right: 1px solid #5d5c5c;
  }
  .toggle-push-right {
    background-image: url("../images/5t.png");
    background-repeat: no-repeat;
    background-size: contain;
    background-position: right center;
    border-left: 1px solid #1e1e1e;
  }

}
